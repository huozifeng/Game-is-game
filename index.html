<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ·é¾Ÿæ±¤ - æ–‡å­—æ¨ç†æ¸¸æˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c1d, #1a1a3a, #0c0c1d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></svg>');
            z-index: -1;
            opacity: 0.5;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: rgba(10, 10, 30, 0.85);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            margin-top: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(80, 100, 200, 0.3);
        }
        
        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff4d4d, #ff9966, #ffcc00);
        }
        
        h1 {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 15px;
            color: #ffcc00;
            text-shadow: 0 0 15px rgba(255, 204, 0, 0.7);
            letter-spacing: 1px;
            position: relative;
        }
        
        h1::after {
            content: "";
            display: block;
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ffcc00, transparent);
            margin: 10px auto;
        }
        
        .game-description {
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.6;
            color: #e0e0ff;
            font-size: 1.1rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .game-section {
            display: none;
            flex-direction: column;
        }
        
        .active {
            display: flex;
        }
        
        .story-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .story-card {
            background: rgba(30, 30, 70, 0.6);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(100, 150, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .story-card:hover {
            transform: translateY(-5px);
            background: rgba(40, 40, 100, 0.7);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
            border-color: #ff9966;
        }
        
        .story-card h3 {
            color: #4fc3f7;
            margin-bottom: 10px;
            font-size: 1.4rem;
            position: relative;
            z-index: 2;
        }
        
        .story-card p {
            color: #b3e5fc;
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
            z-index: 2;
        }
        
        .difficulty {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 100, 100, 0.3);
            color: #ff9999;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            z-index: 2;
        }
        
        .story-title {
            color: #4fc3f7;
            text-align: center;
            margin: 15px 0;
            font-size: 1.8rem;
            text-shadow: 0 0 10px rgba(79, 195, 247, 0.3);
        }
        
        .riddle-container {
            background: rgba(0, 20, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(100, 150, 255, 0.3);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
            position: relative;
        }
        
        .riddle-container::before {
            content: """;
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 3rem;
            color: rgba(255, 255, 255, 0.1);
            font-family: Georgia, serif;
        }
        
        .riddle-container h3 {
            color: #81d4fa;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.4rem;
            letter-spacing: 1px;
        }
        
        .riddle-text {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #e0f7fa;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 3px solid #ff9966;
        }
        
        .input-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        
        .input-section input {
            padding: 15px;
            border-radius: 10px;
            border: none;
            background: rgba(20, 30, 60, 0.7);
            color: white;
            font-size: 1rem;
            border: 1px solid rgba(100, 150, 255, 0.3);
            transition: all 0.3s;
        }
        
        .input-section input:focus {
            outline: none;
            border-color: #ff9966;
            background: rgba(30, 40, 80, 0.8);
            box-shadow: 0 0 10px rgba(255, 153, 102, 0.3);
        }
        
        .input-section input::placeholder {
            color: rgba(200, 200, 255, 0.5);
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 14px 25px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-submit {
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
        }
        
        .btn-guess {
            background: linear-gradient(45deg, #FF9800, #FFC107);
            color: white;
        }
        
        .btn-giveup {
            background: linear-gradient(45deg, #f44336, #ff7961);
            color: white;
        }
        
        .btn-restart {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
            width: 100%;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .conversation-history {
            margin-top: 25px;
            background: rgba(0, 10, 30, 0.7);
            border-radius: 15px;
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(100, 150, 255, 0.2);
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .conversation-history h3 {
            color: #81d4fa;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .message {
            padding: 12px 15px;
            margin-bottom: 12px;
            border-radius: 10px;
            line-height: 1.5;
            animation: fadeIn 0.3s ease;
            position: relative;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            background: rgba(30, 80, 180, 0.4);
            border-left: 4px solid #2196F3;
        }
        
        .user-message::before {
            content: "ä½ :";
            font-weight: bold;
            margin-right: 8px;
            color: #4fc3f7;
        }
        
        .ai-message {
            background: rgba(180, 50, 50, 0.4);
            border-left: 4px solid #FF5252;
        }
        
        .ai-message::before {
            content: "è£åˆ¤:";
            font-weight: bold;
            margin-right: 8px;
            color: #ff9966;
        }
        
        .result-message {
            background: rgba(40, 180, 40, 0.3);
            border-left: 4px solid #4CAF50;
            text-align: center;
            font-weight: bold;
            margin-top: 15px;
            padding: 20px;
            font-size: 1.2rem;
            display: none;
            border-radius: 10px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            border: 1px dashed rgba(255, 255, 255, 0.3);
        }
        
        .instructions h3 {
            color: #FFD54F;
            margin-bottom: 12px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .instructions ul {
            padding-left: 25px;
            margin-top: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }
        
        .instructions li {
            margin-bottom: 8px;
            line-height: 1.5;
            background: rgba(0, 0, 0, 0.2);
            padding: 8px 12px;
            border-radius: 8px;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            width: 100%;
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .spooky-element {
            position: absolute;
            font-size: 2rem;
            opacity: 0.1;
            z-index: -1;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, 50px) rotate(90deg); }
            50% { transform: translate(200px, 0) rotate(180deg); }
            75% { transform: translate(100px, -50px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.3rem;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .story-list {
                grid-template-columns: 1fr;
            }
            
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- æ¼‚æµ®çš„ææ€–å…ƒç´  -->
    <div class="spooky-element" style="top: 10%; left: 5%;">ğŸ‘»</div>
    <div class="spooky-element" style="top: 20%; right: 10%;">ğŸ”ª</div>
    <div class="spooky-element" style="top: 70%; left: 15%;">ğŸ’€</div>
    <div class="spooky-element" style="top: 40%; right: 5%;">ğŸ•¯ï¸</div>
    
    <div class="container">
        <h1><i class="fas fa-ghost"></i> æµ·é¾Ÿæ±¤æ¨ç†æ¸¸æˆ</h1>
        
        <div class="game-description">
            <p>ä½ æ˜¯ä¸€åä¾¦æ¢ï¼Œéœ€è¦æ ¹æ®ä¸å®Œæ•´çš„æ•…äº‹ç‰‡æ®µï¼Œé€šè¿‡æé—®æ¥æ¨ç†å‡ºææ€–çœŸç›¸ã€‚</p>
            <p>æ¯æ¬¡æé—®ï¼Œæˆ‘åªèƒ½å›ç­”"æ˜¯"ã€"å¦"æˆ–"ä¸ç›¸å…³"ã€‚å½“ä½ è®¤ä¸ºå·²ç»è§£å¼€è°œé¢˜æ—¶ï¼Œå¯ä»¥å°è¯•é™ˆè¿°å®Œæ•´æ•…äº‹ã€‚</p>
        </div>
        
        <!-- æ•…äº‹é€‰æ‹©ç•Œé¢ -->
        <div id="story-selection" class="game-section active">
            <h2 class="story-title">è¯·é€‰æ‹©ä¸€ä¸ªè°œé¢˜å¼€å§‹æ¸¸æˆ</h2>
            
            <div class="story-list">
                <div class="story-card" data-id="1">
                    <span class="difficulty">ä¸­ç­‰</span>
                    <h3>æ¶ˆå¤±çš„ä¹˜å®¢</h3>
                    <p>ä¸€è¾†å·´å£«åœ¨è¡Œé©¶è¿‡ç¨‹ä¸­ï¼Œçªç„¶ä¸€åä¹˜å®¢æ¶ˆå¤±äº†ã€‚è­¦å¯Ÿè°ƒæŸ¥åæ²¡æœ‰å‘ç°ä»»ä½•çº¿ç´¢...</p>
                </div>
                
                <div class="story-card" data-id="2">
                    <span class="difficulty">å›°éš¾</span>
                    <h3>è‡ªæ€çš„ä½œå®¶</h3>
                    <p>ä¸€ä½è‘—åä½œå®¶è¢«å‘ç°åœ¨è‡ªå·±å®¶ä¸­è‡ªæ€ã€‚ä»–çš„é—ä¹¦åªæœ‰ä¸€å¥è¯ï¼š"æˆ‘ç»ˆäºæ˜ç™½äº†..."</p>
                </div>
                
                <div class="story-card" data-id="3">
                    <span class="difficulty">ç®€å•</span>
                    <h3>åºŠä¸‹çš„æ‰‹</h3>
                    <p>åŠå¤œï¼Œå°å¥³å­©é†’æ¥ï¼Œæ„Ÿè§‰åºŠä¸‹æœ‰äººã€‚å¥¹ä¼¸æ‰‹ä¸‹å»ï¼Œæ‘¸åˆ°äº†ä¸€åªæ‰‹...</p>
                </div>
                
                <div class="story-card" data-id="4">
                    <span class="difficulty">å›°éš¾</span>
                    <h3>åŒèƒèƒçš„è‘¬ç¤¼</h3>
                    <p>ä¸€ä¸ªç”·äººå‚åŠ äº†ä»–åŒèƒèƒå…„å¼Ÿçš„è‘¬ç¤¼ã€‚è‘¬ç¤¼ç»“æŸåï¼Œä»–é‡åˆ°äº†ä¸€ä¸ªä»¤ä»–å¿ƒåŠ¨çš„å¥³äºº...</p>
                </div>
                
                <div class="story-card" data-id="5">
                    <span class="difficulty">ä¸­ç­‰</span>
                    <h3>åˆå¤œç”µè¯</h3>
                    <p>ä¸€ä¸ªå¥³äººæ¯æ™šéƒ½æ¥åˆ°é™Œç”Ÿç”µè¯ï¼Œç”µè¯é‚£å¤´åªæœ‰æ²‰é‡çš„å‘¼å¸å£°ã€‚è­¦å¯Ÿè¿½è¸ªå‘ç°...</p>
                </div>
                
                <div class="story-card" data-id="6">
                    <span class="difficulty">å›°éš¾</span>
                    <h3>ç…§ç‰‡é‡Œçš„äºº</h3>
                    <p>ä¸€ä¸ªç”·äººåœ¨æ•´ç†çˆ¶äº²é—ç‰©æ—¶å‘ç°ä¸€å¼ æ—§ç…§ç‰‡ï¼Œç…§ç‰‡ä¸Šæ˜¯çˆ¶äº²å’Œä¸€ä¸ªé™Œç”Ÿå­©å­...</p>
                </div>
                
                <div class="story-card" data-id="7">
                    <span class="difficulty">å™©æ¢¦</span>
                    <h3>é‡å¤çš„æ¢¦å¢ƒ</h3>
                    <p>ä¸€ä¸ªå¥³äººè¿ç»­ä¸€å‘¨åšåŒä¸€ä¸ªå™©æ¢¦ï¼šå¥¹è¢«å›°åœ¨ç”µæ¢¯é‡Œï¼Œç”µæ¢¯é—¨æ‰“å¼€æ—¶...</p>
                </div>
                
                <div class="story-card" data-id="8">
                    <span class="difficulty">æéš¾</span>
                    <h3>é•œå­é‡Œçš„è„¸</h3>
                    <p>ä¸€ä¸ªç”·äººå‘ç°å®¶é‡Œçš„é•œå­ä¸­æ€»ä¼šå‡ºç°ä¸€å¼ ä¸å±äºä»–çš„è„¸ï¼Œè€Œä¸”é‚£å¼ è„¸...</p>
                </div>
            </div>
        </div>
        
        <!-- æ¸¸æˆç•Œé¢ -->
        <div id="game-screen" class="game-section">
            <h2 id="current-story-title" class="story-title">æ¶ˆå¤±çš„ä¹˜å®¢</h2>
            
            <div class="riddle-container">
                <h3>è°œé¢</h3>
                <div id="riddle-text" class="riddle-text">
                    ä¸€è¾†è½½æœ‰25åä¹˜å®¢çš„å·´å£«åœ¨é«˜é€Ÿå…¬è·¯ä¸Šæ­£å¸¸è¡Œé©¶ã€‚çªç„¶ï¼Œä¸€åä¹˜å®¢æ¶ˆå¤±äº†ã€‚å¸æœºç«‹å³åœè½¦æŠ¥è­¦ï¼Œè­¦å¯Ÿå¯¹å…¨è½¦è¿›è¡Œäº†å½»åº•æœæŸ¥ï¼Œä½†æ²¡æœ‰å‘ç°ä»»ä½•çº¿ç´¢ã€‚ç›‘æ§æ˜¾ç¤ºè¯¥ä¹˜å®¢ç¡®å®åœ¨è½¦ä¸Šï¼Œä½†æ²¡æœ‰äººçœ‹åˆ°ä»–ç¦»å¼€ã€‚
                </div>
            </div>
            
            <div class="input-section">
                <input type="text" id="user-input" placeholder="è¾“å…¥ä½ çš„é—®é¢˜æˆ–é™ˆè¿°..." autocomplete="off">
                <div class="buttons">
                    <button id="submit-btn" class="btn-submit"><i class="fas fa-question-circle"></i> æé—®</button>
                    <button id="guess-btn" class="btn-guess"><i class="fas fa-lightbulb"></i> é™ˆè¿°ç­”æ¡ˆ</button>
                    <button id="giveup-btn" class="btn-giveup"><i class="fas fa-flag"></i> è®¤è¾“</button>
                </div>
                <button id="restart-btn" class="btn-restart"><i class="fas fa-redo"></i> é‡æ–°å¼€å§‹æ¸¸æˆ</button>
            </div>
            
            <div class="conversation-history">
                <h3><i class="fas fa-history"></i> å¯¹è¯å†å²</h3>
                <div id="conversation"></div>
                <div id="result-message" class="result-message"></div>
            </div>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> æ¸¸æˆè§„åˆ™è¯´æ˜</h3>
            <ul>
                <li>é€‰æ‹©ä¸€ä¸ªæ‚¬ç–‘ææ€–çš„æ•…äº‹è°œé¢˜å¼€å§‹æ¸¸æˆ</li>
                <li>ä»”ç»†é˜…è¯»è°œé¢ï¼Œæ€è€ƒæ•…äº‹ä¸­ä¸åˆç†çš„åœ°æ–¹</li>
                <li>é€šè¿‡æé—®è·å–æ›´å¤šä¿¡æ¯ï¼ˆåªèƒ½å¾—åˆ°æ˜¯/å¦/ä¸ç›¸å…³çš„å›ç­”ï¼‰</li>
                <li>å½“ä½ è®¤ä¸ºå·²ç»è§£å¼€è°œé¢˜æ—¶ï¼Œå¯ä»¥å°è¯•é™ˆè¿°å®Œæ•´æ•…äº‹</li>
                <li>å¦‚æœæ— æ³•è§£å¼€è°œé¢˜ï¼Œå¯ä»¥é€‰æ‹©è®¤è¾“æŸ¥çœ‹ç­”æ¡ˆ</li>
                <li>è°œåº•å¾€å¾€ç»†æ€ææä¸”åå¸¸è¯†ï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡</li>
            </ul>
        </div>
        
        <div class="footer">
            <p>æµ·é¾Ÿæ±¤æ–‡å­—æ¨ç†æ¸¸æˆ | æŒ‘æˆ˜ä½ çš„é€»è¾‘ä¸å¿ƒç†æ‰¿å—èƒ½åŠ› | 12ä¸ªææ€–è°œé¢˜ç­‰ä½ è§£å¼€</p>
        </div>
    </div>

    <script>
        // æ•…äº‹æ•°æ®ï¼ˆæ–°å¢äº†æ›´ææ€–ã€åå¸¸è¯†çš„æ•…äº‹ï¼‰
        const stories = {
            1: {
                title: "æ¶ˆå¤±çš„ä¹˜å®¢",
                riddle: "ä¸€è¾†è½½æœ‰25åä¹˜å®¢çš„å·´å£«åœ¨é«˜é€Ÿå…¬è·¯ä¸Šæ­£å¸¸è¡Œé©¶ã€‚çªç„¶ï¼Œä¸€åä¹˜å®¢æ¶ˆå¤±äº†ã€‚å¸æœºç«‹å³åœè½¦æŠ¥è­¦ï¼Œè­¦å¯Ÿå¯¹å…¨è½¦è¿›è¡Œäº†å½»åº•æœæŸ¥ï¼Œä½†æ²¡æœ‰å‘ç°ä»»ä½•çº¿ç´¢ã€‚ç›‘æ§æ˜¾ç¤ºè¯¥ä¹˜å®¢ç¡®å®åœ¨è½¦ä¸Šï¼Œä½†æ²¡æœ‰äººçœ‹åˆ°ä»–ç¦»å¼€ã€‚",
                answer: "æ¶ˆå¤±çš„ä¹˜å®¢æ˜¯ä¸€åå­•å¦‡ã€‚å¥¹åœ¨è½¦ä¸Šçªç„¶åˆ†å¨©ï¼Œç”Ÿä¸‹äº†ä¸€ä¸ªå©´å„¿ã€‚å› æ­¤ï¼Œå½“è­¦å¯Ÿåˆ°è¾¾æ—¶ï¼Œè½¦ä¸Šå˜æˆäº†26äººï¼ˆåŒ…æ‹¬å©´å„¿ï¼‰ï¼Œè€Œä¸æ˜¯25äººã€‚ä¹˜å®¢æ•°é‡å¢åŠ å¯¼è‡´çœ‹èµ·æ¥æœ‰äººæ¶ˆå¤±ï¼Œå®é™…æ˜¯æ–°ç”Ÿå‘½çš„è¯ç”Ÿã€‚"
            },
            2: {
                title: "è‡ªæ€çš„ä½œå®¶",
                riddle: "ä¸€ä½è‘—åä½œå®¶è¢«å‘ç°åœ¨è‡ªå·±å®¶ä¸­è‡ªæ€ã€‚ä»–çš„é—ä¹¦åªæœ‰ä¸€å¥è¯ï¼š'æˆ‘ç»ˆäºæ˜ç™½äº†...'ã€‚è­¦æ–¹è°ƒæŸ¥å‘ç°ï¼Œä½œå®¶æ­»å‰æ­£åœ¨åˆ›ä½œä¸€éƒ¨å°è¯´ï¼Œä½†ç”µè„‘ä¸Šçš„æœ€åä¸€è¡Œæ–‡å­—è¢«åˆ é™¤äº†ã€‚ä¹¦æ¡Œä¸Šæ”¾ç€ä¸€æœ¬ä»–å¹´è½»æ—¶å†™çš„æ—¥è®°ã€‚",
                answer: "ä½œå®¶åˆ›ä½œçš„å°è¯´æƒ…èŠ‚ä¸è‡ªå·±ç°å®ç”Ÿæ´»å®Œå…¨ä¸€è‡´ï¼ŒåŒ…æ‹¬å³å°†å‘ç”Ÿçš„è‡ªæ€ã€‚å½“ä»–å†™åˆ°ä¸»è§’é˜…è¯»è‡ªå·±ç«¥å¹´æ—¥è®°å‘ç°æ˜¯é¢†å…»çš„æ—¶ï¼Œçªç„¶æ„è¯†åˆ°è‡ªå·±æ—¥è®°ä¸­ä¹Ÿæœ‰å®Œå…¨ç›¸åŒçš„æ®µè½ã€‚ä»–æ˜ç™½è‡ªå·±ä¹Ÿæ˜¯åˆ«äººå°è¯´ä¸­çš„è§’è‰²ï¼Œå‘½è¿æ—©å·²è¢«æ³¨å®šã€‚ç»æœ›ä¹‹ä¸‹ä»–é€‰æ‹©äº†è‡ªæ€ã€‚"
            },
            3: {
                title: "åºŠä¸‹çš„æ‰‹",
                riddle: "åŠå¤œï¼Œå°å¥³å­©é†’æ¥ï¼Œæ„Ÿè§‰åºŠä¸‹æœ‰äººã€‚å¥¹ä¼¸æ‰‹ä¸‹å»ï¼Œæ‘¸åˆ°äº†ä¸€åªæ‰‹ã€‚å¥¹å“å¾—å°–å«èµ·æ¥ï¼Œçˆ¶æ¯å†²è¿›æˆ¿é—´æ‰“å¼€ç¯ï¼ŒåºŠä¸‹å´ç©ºæ— ä¸€äººã€‚ç¬¬äºŒå¤©ï¼Œå¥³å­©åœ¨åºŠä¸‹å‘ç°äº†ä¸€å¼ çº¸æ¡ï¼Œä¸Šé¢å†™ç€ï¼š'è¿™æ¬¡æ˜¯ä½ èµ¢äº†'ã€‚",
                answer: "å°å¥³å­©çš„å“¥å“¥åœ¨å’Œå¥¹ç©æ¶ä½œå‰§ã€‚ä»–äº‹å…ˆå°†ä¸€åªå‡æ‰‹æ”¾åœ¨åºŠä¸‹ï¼Œç„¶åèº²åœ¨è¡£æŸœé‡Œã€‚å½“å°å¥³å­©å°–å«ã€çˆ¶æ¯å†²è¿›æˆ¿é—´æ—¶ï¼Œä»–æ‚„æ‚„ä»è¡£æŸœæºœå‡ºæˆ¿é—´ã€‚ä½†å“¥å“¥ä¸çŸ¥é“çš„æ˜¯ï¼Œå°å¥³å­©åœ¨å°–å«å‰å·²ç»æ‘¸åˆ°äº†è—åœ¨åºŠä¸‹çš„çœŸäººçš„æ‰‹è‡‚ï¼Œè€Œé‚£å¼ çº¸æ¡æ˜¯é—¯å…¥è€…ç•™ä¸‹çš„ã€‚"
            },
            4: {
                title: "åŒèƒèƒçš„è‘¬ç¤¼",
                riddle: "ä¸€ä¸ªç”·äººå‚åŠ äº†ä»–åŒèƒèƒå…„å¼Ÿçš„è‘¬ç¤¼ã€‚è‘¬ç¤¼ç»“æŸåï¼Œä»–é‡åˆ°äº†ä¸€ä¸ªä»¤ä»–å¿ƒåŠ¨çš„å¥³äººã€‚ä»–ä»¬èŠå¾—å¾ˆæŠ•æœºï¼Œç”·äººè¦äº†å¥³äººçš„è”ç³»æ–¹å¼ã€‚ä¸€å‘¨åï¼Œç”·äººè°‹æ€äº†é‚£ä¸ªå¥³äººã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
                answer: "ç”·äººåœ¨è‘¬ç¤¼ä¸Šé‡åˆ°çš„å¥³äººè¯´äº†ä¸€å¥ï¼š'ä½ é•¿å¾—çœŸåƒä½ å“¥å“¥'ã€‚ä½†åŒèƒèƒå…„å¼Ÿå…¶å®æ˜¯åŒåµåŒèƒèƒï¼Œå¤–äººæ ¹æœ¬æ— æ³•åˆ†è¾¨ä»–ä»¬ã€‚ç”·äººæ„è¯†åˆ°è¿™ä¸ªå¥³äººæ˜¯å”¯ä¸€èƒ½åˆ†è¾¨ä»–ä»¬å…„å¼Ÿçš„äººï¼Œè€Œä»–çš„å“¥å“¥æ­£æ˜¯è¢«è¿™ä¸ªå¥³äººè°‹æ€ã€‚ä¸ºäº†å¤ä»‡ï¼Œä»–è°‹æ€äº†å¥¹ã€‚"
            },
            5: {
                title: "åˆå¤œç”µè¯",
                riddle: "ä¸€ä¸ªå¥³äººæ¯æ™šéƒ½æ¥åˆ°é™Œç”Ÿç”µè¯ï¼Œç”µè¯é‚£å¤´åªæœ‰æ²‰é‡çš„å‘¼å¸å£°ã€‚è­¦å¯Ÿè¿½è¸ªå‘ç°ç”µè¯æ¥è‡ªåŸå¸‚çš„å¦ä¸€ä¸ªåŒºã€‚å¥³äººå®‰è£…äº†æ¥ç”µæ˜¾ç¤ºï¼Œå‘ç°æ¥ç”µå·ç ç«Ÿç„¶æ˜¯å¥¹è‡ªå·±çš„æ‰‹æœºå·ã€‚æ›´å¯æ€•çš„æ˜¯ï¼Œå¥¹å‘ç°ç”µè¯æ˜¯ä»å¥¹è‡ªå·±çš„å…¬å¯“æ‰“å‡ºçš„ã€‚",
                answer: "æ‰“ç”µè¯çš„äººæ˜¯å¥³äººçš„ç¬¬äºŒäººæ ¼ã€‚å¥¹æ‚£æœ‰ä¸¥é‡çš„äººæ ¼åˆ†è£‚ç—‡ï¼Œåœ¨å¤œæ™šä¼šè½¬å˜æˆå¦ä¸€ä¸ªäººæ ¼ã€‚è¿™ä¸ªäººæ ¼é€šè¿‡å¤‡ç”¨æ‰‹æœºç»™è‡ªå·±æ‰“ç”µè¯ï¼Œè¯•å›¾è­¦å‘Šä¸»äººæ ¼æœ‰äººå…¥ä¾µå…¬å¯“ï¼Œè€Œå®é™…ä¸Šå…¥ä¾µè€…æ­£æ˜¯ç¬¬äºŒäººæ ¼è‡ªå·±ã€‚"
            },
            6: {
                title: "ç…§ç‰‡é‡Œçš„äºº",
                riddle: "ä¸€ä¸ªç”·äººåœ¨æ•´ç†çˆ¶äº²é—ç‰©æ—¶å‘ç°ä¸€å¼ æ—§ç…§ç‰‡ï¼Œç…§ç‰‡ä¸Šæ˜¯çˆ¶äº²å’Œä¸€ä¸ªé™Œç”Ÿå­©å­ï¼Œç…§ç‰‡èƒŒé¢å†™ç€'å®éªŒå¯¹è±¡7å·'ã€‚ç”·äººå¼€å§‹è°ƒæŸ¥ï¼Œå‘ç°çˆ¶äº²æ›¾æ˜¯ç§˜å¯†ç ”ç©¶æœºæ„çš„ç§‘å­¦å®¶ã€‚æ›´å¥‡æ€ªçš„æ˜¯ï¼Œä»–å‘ç°è‡ªå·±å°æ—¶å€™çš„ç…§ç‰‡å’Œé‚£ä¸ªå­©å­æƒŠäººåœ°ç›¸ä¼¼ã€‚",
                answer: "ç”·äººå…¶å®æ˜¯å…‹éš†äººã€‚çˆ¶äº²æ‰€åœ¨çš„æœºæ„è¿›è¡Œéæ³•å…‹éš†å®éªŒï¼Œç”·äººæ˜¯çˆ¶äº²å…‹éš†è‡ªå·±çš„äº§ç‰©ã€‚ç…§ç‰‡ä¸­çš„å­©å­æ˜¯å…‹éš†å®éªŒçš„æ—©æœŸå¤±è´¥å“ã€‚çˆ¶äº²åœ¨é—ä¹¦ä¸­é€éœ²ï¼Œæ‰€æœ‰å…‹éš†ä½“éƒ½å¸¦æœ‰è‡´å‘½åŸºå› ç¼ºé™·ï¼Œç”·äººå°†åœ¨30å²ç”Ÿæ—¥å½“å¤©æ­»äº¡ã€‚è€Œæ˜å¤©å°±æ˜¯ä»–çš„30å²ç”Ÿæ—¥ã€‚"
            },
            7: {
                title: "é‡å¤çš„æ¢¦å¢ƒ",
                riddle: "ä¸€ä¸ªå¥³äººè¿ç»­ä¸€å‘¨åšåŒä¸€ä¸ªå™©æ¢¦ï¼šå¥¹è¢«å›°åœ¨ç”µæ¢¯é‡Œï¼Œç”µæ¢¯é—¨æ‰“å¼€æ—¶ï¼Œå¥¹çœ‹åˆ°è‡ªå·±èººåœ¨è¡€æ³Šä¸­ã€‚æ¯æ¬¡å™©æ¢¦éƒ½åœ¨è¿™ä¸ªç”»é¢ç»“æŸã€‚ç¬¬ä¸ƒå¤©ï¼Œå¥¹å†³å®šèµ°æ¥¼æ¢¯ä¸Šç­ï¼Œå´åœ¨æ¥¼æ¢¯é—´çœ‹åˆ°äº†æ¢¦å¢ƒä¸­çš„åœºæ™¯ã€‚",
                answer: "å¥³äººçœ‹åˆ°çš„è¡€æ³Šåœºæ™¯å…¶å®æ˜¯æ²¹æ¼†æ¡¶æ‰“ç¿»ã€‚ä½†å½“å¥¹èµ°è¿‘æŸ¥çœ‹æ—¶ï¼Œè¢«èº²åœ¨æš—å¤„çš„å‡¶æ‰‹è¢­å‡»ã€‚åŸæ¥å‡¶æ‰‹æ˜¯å¥¹åŒäº‹ï¼Œå› å·¥ä½œçŸ›ç›¾è®¡åˆ’åœ¨ç”µæ¢¯é‡Œè°‹æ€å¥¹ã€‚å› å¥¹æ”¹èµ°æ¥¼æ¢¯ï¼Œå‡¶æ‰‹æ”¹å˜äº†è®¡åˆ’ã€‚æ¢¦å¢ƒæ˜¯å¥¹æ½œæ„è¯†å¯¹å±é™©çš„é¢„è­¦ã€‚"
            },
            8: {
                title: "é•œå­é‡Œçš„è„¸",
                riddle: "ä¸€ä¸ªç”·äººå‘ç°å®¶é‡Œçš„é•œå­ä¸­æ€»ä¼šå‡ºç°ä¸€å¼ ä¸å±äºä»–çš„è„¸ï¼Œè€Œä¸”é‚£å¼ è„¸ä¸€å¤©æ¯”ä¸€å¤©æ¸…æ™°ã€‚ä»–æ¢äº†æ‰€æœ‰é•œå­ï¼Œä½†é—®é¢˜ä¾æ—§å­˜åœ¨ã€‚æœ€åä»–å‘ç°é‚£å¼ è„¸å…¶å®æ˜¯å°æ—¶å€™æ„å¤–æººæ­»çš„åŒèƒèƒå…„å¼Ÿã€‚æ›´ææ€–çš„æ˜¯ï¼Œä»–çˆ¶æ¯ä»æœªå‘Šè¯‰è¿‡ä»–æœ‰ä¸ªåŒèƒèƒå…„å¼Ÿã€‚",
                answer: "ç”·äººæ‚£æœ‰å¡æ™®æ ¼æ‹‰å¦„æƒ³ç—‡ï¼Œæ— æ³•è¯†åˆ«è‡ªå·±çš„è„¸ã€‚é•œå­ä¸­çš„'åŒèƒèƒå…„å¼Ÿ'å…¶å®æ˜¯ä»–è‡ªå·±çš„è„¸ï¼Œä½†å¿ƒç†ç–¾ç—…è®©ä»–æ— æ³•è¯†åˆ«ã€‚çˆ¶æ¯ç¡®å®éšç’äº†ä»–æœ‰åŒèƒèƒå…„å¼Ÿçš„äº‹å®â€”â€”å…„å¼Ÿæ²¡æœ‰æººæ­»ï¼Œè€Œæ˜¯è¢«ä»–å°æ—¶å€™åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ¨å…¥æ°´ä¸­ï¼Œè¿™æ®µè®°å¿†è¢«å‹æŠ‘äº†ã€‚"
            }
        };

        // DOMå…ƒç´ 
        const storySelection = document.getElementById('story-selection');
        const gameScreen = document.getElementById('game-screen');
        const currentStoryTitle = document.getElementById('current-story-title');
        const riddleText = document.getElementById('riddle-text');
        const userInput = document.getElementById('user-input');
        const submitBtn = document.getElementById('submit-btn');
        const guessBtn = document.getElementById('guess-btn');
        const giveupBtn = document.getElementById('giveup-btn');
        const restartBtn = document.getElementById('restart-btn');
        const conversation = document.getElementById('conversation');
        const resultMessage = document.getElementById('result-message');

        // å½“å‰æ¸¸æˆçŠ¶æ€
        let currentStoryId = null;
        let gameSolved = false;

        // æ•…äº‹å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.story-card').forEach(card => {
            card.addEventListener('click', () => {
                currentStoryId = card.getAttribute('data-id');
                const story = stories[currentStoryId];
                
                currentStoryTitle.textContent = story.title;
                riddleText.textContent = story.riddle;
                
                storySelection.classList.remove('active');
                gameScreen.classList.add('active');
                
                // æ¸…ç©ºå¯¹è¯å†å²
                conversation.innerHTML = '';
                resultMessage.style.display = 'none';
                gameSolved = false;
                userInput.value = '';
                userInput.focus();
            });
        });

        // æäº¤é—®é¢˜
        submitBtn.addEventListener('click', () => {
            if (gameSolved) return;
            
            const question = userInput.value.trim();
            if (!question) return;
            
            if (question.toLowerCase().includes('ç­”æ¡ˆ') || question.toLowerCase().includes('è°œåº•')) {
                addMessage(`è¯·ä¸è¦ç›´æ¥è¯¢é—®ç­”æ¡ˆï¼Œè¯·é€šè¿‡æé—®é€æ­¥æ¨ç†ã€‚`, 'ai');
                userInput.value = '';
                return;
            }
            
            addMessage(question, 'user');
            
            // æ¨¡æ‹ŸAIå›ç­”
            setTimeout(() => {
                // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è¿æ¥å¤§æ¨¡å‹API
                // ä»¥ä¸‹æ˜¯æ¨¡æ‹Ÿå›ç­”
                const randomResponse = getSimulatedResponse(question, currentStoryId);
                addMessage(randomResponse, 'ai');
            }, 600);
            
            userInput.value = '';
        });

        // æ¨¡æ‹ŸAIå›ç­”çš„ç®€å•é€»è¾‘
        function getSimulatedResponse(question, storyId) {
            const responses = {
                1: {
                    "å­•å¦‡": "æ˜¯",
                    "å©´å„¿": "æ˜¯",
                    "ç”Ÿå­©å­": "æ˜¯",
                    "æ­»äº¡": "å¦",
                    "è·³è½¦": "å¦",
                    "è°‹æ€": "å¦",
                    "éšè—": "å¦",
                    "è­¦å¯Ÿ": "ä¸ç›¸å…³"
                },
                2: {
                    "å°è¯´": "æ˜¯",
                    "æ—¥è®°": "æ˜¯",
                    "è§’è‰²": "æ˜¯",
                    "è°‹æ€": "å¦",
                    "ç–¾ç—…": "å¦",
                    "ç°å®": "æ˜¯",
                    "å‘½è¿": "æ˜¯"
                },
                // å…¶ä»–æ•…äº‹çš„æ¨¡æ‹Ÿå›ç­”é€»è¾‘ç±»ä¼¼
                default: {
                    "æ˜¯": "æ˜¯",
                    "å¦": "å¦",
                    "å¯èƒ½": "ä¸ç›¸å…³"
                }
            };
            
            const storyResponses = responses[storyId] || responses.default;
            const keywords = Object.keys(storyResponses);
            
            for (const keyword of keywords) {
                if (question.toLowerCase().includes(keyword)) {
                    return storyResponses[keyword];
                }
            }
            
            // éšæœºè¿”å›ä¸€ä¸ªç­”æ¡ˆ
            const randomAnswers = ["æ˜¯", "å¦", "ä¸ç›¸å…³"];
            return randomAnswers[Math.floor(Math.random() * randomAnswers.length)];
        }

        // é™ˆè¿°ç­”æ¡ˆ
        guessBtn.addEventListener('click', () => {
            if (gameSolved) return;
            
            const guess = userInput.value.trim();
            if (!guess) return;
            
            addMessage(`æˆ‘çŒœæµ‹ï¼š${guess}`, 'user');
            
            setTimeout(() => {
                // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è¿æ¥å¤§æ¨¡å‹APIéªŒè¯ç­”æ¡ˆ
                // ä»¥ä¸‹æ˜¯æ¨¡æ‹ŸéªŒè¯
                if (guess.length > 30 && Math.random() > 0.7) {
                    showSolution();
                } else {
                    addMessage('ä½ çš„é™ˆè¿°ä¸å¤Ÿå®Œæ•´ï¼Œæˆ–è€…æœ‰é”™è¯¯ï¼Œè¯·ç»§ç»­æ¨ç†ã€‚', 'ai');
                }
            }, 800);
            
            userInput.value = '';
        });

        // è®¤è¾“æŒ‰é’®
        giveupBtn.addEventListener('click', () => {
            if (gameSolved) return;
            
            addMessage('æˆ‘è®¤è¾“ï¼Œè¯·å‘Šè¯‰æˆ‘è°œåº•ã€‚', 'user');
            
            setTimeout(() => {
                showSolution();
            }, 800);
        });

        // é‡æ–°å¼€å§‹æ¸¸æˆ
        restartBtn.addEventListener('click', () => {
            gameScreen.classList.remove('active');
            storySelection.classList.add('active');
        });

        // æ˜¾ç¤ºç­”æ¡ˆ
        function showSolution() {
            const story = stories[currentStoryId];
            resultMessage.innerHTML = `
                <p><i class="fas fa-trophy"></i> è°œåº•æ­æ™“</p>
                <p><strong>${story.title}çš„çœŸç›¸ï¼š</strong></p>
                <p style="margin: 15px 0; line-height: 1.6; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px;">${story.answer}</p>
                <p>ä½ å‡†å¤‡å¥½æŒ‘æˆ˜ä¸‹ä¸€ä¸ªææ€–è°œé¢˜äº†å—ï¼Ÿ</p>
            `;
            resultMessage.style.display = 'block';
            gameSolved = true;
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            conversation.parentElement.scrollTop = conversation.parentElement.scrollHeight;
        }

        // æ·»åŠ æ¶ˆæ¯åˆ°å¯¹è¯å†å²
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
            messageDiv.textContent = text;
            
            conversation.appendChild(messageDiv);
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            conversation.parentElement.scrollTop = conversation.parentElement.scrollHeight;
        }

        // å›è½¦é”®æäº¤
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitBtn.click();
            }
        });
        
        // åˆå§‹ç¤ºä¾‹é—®é¢˜
        setTimeout(() => {
            if (storySelection.classList.contains('active')) {
                const examples = document.createElement('div');
                examples.innerHTML = `
                    <div style="text-align:center; margin-top:20px; color:#aaa; font-style:italic;">
                        è¯•è¯•ç‚¹å‡»"æ¶ˆå¤±çš„ä¹˜å®¢"å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªææ€–æ¨ç†
                    </div>
                `;
                storySelection.appendChild(examples);
            }
        }, 3000);
    </script>
</body>
</html>